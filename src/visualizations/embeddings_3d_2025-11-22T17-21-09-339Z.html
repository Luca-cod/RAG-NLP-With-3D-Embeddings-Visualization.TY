
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Embeddings Visualization - RAG System</title>
    <!-- Plotly.js from CDN -->
    <script src="https://cdn.plot.ly/plotly-2.27.1.min.js" integrity="sha384-VKw8eVLKKnZQd2yCLHrJ6g4E6KEg5QaQc7hqvUbcJbG8sD2hk0kF4fH5d5UQlQJ0" crossorigin="anonymous"></script>

     <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .info {
            color: #555;
            margin-bottom: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-left: 5px solid #667eea;
            border-radius: 8px;
            line-height: 1.8;
        }
        
        .info strong {
            color: #2c3e50;
            font-weight: 600;
        }
        
        .info-item {
            margin: 8px 0;
        }
        
        #plot {
            margin-top: 20px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #333;
        }
        
        .legend-color.query { background-color: red; }
        .legend-color.top { background-color: blue; }
        .legend-color.other { background-color: grey; }
        
        .footer {
            text-align: center;
            margin-top: 20px;
            color: #666;
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.5em;
            }
            
            .legend {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® RAG Embeddings - 3D Visualization</h1>
        
        <div class="info">
            <div class="info-item"><strong>üìù Query:</strong> Show me devices</div>
            <div class="info-item"><strong>üìä Total Documents:</strong> 50</div>
            <div class="info-item"><strong>üî¨ Dimensionality Reduction:</strong> t-SNE (768D ‚Üí 3D)</div>
            <div class="info-item"><strong>‚öôÔ∏è t-SNE Perplexity:</strong> 5</div>
            <div class="info-item"><strong>‚≠ê Highlighted:</strong> Top 3 most relevant documents</div>
        </div>
        
        <div id="plot"></div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color query"></div>
                <span><strong>Query Point</strong> - Your question in embedding space</span>
            </div>
            <div class="legend-item">
                <div class="legend-color top"></div>
                <span><strong>Top 3 Documents</strong> - Most semantically similar</span>
            </div>
            <div class="legend-item">
                <div class="legend-color other"></div>
                <span><strong>Other Documents</strong> - Less relevant results</span>
            </div>
        </div>
        
        <div class="footer">
            <p>üí° <strong>Tip:</strong> Drag to rotate ‚Ä¢ Scroll to zoom ‚Ä¢ Hover over points for details</p>
            <p style="margin-top: 10px; font-size: 0.85em;">Points closer together are semantically similar</p>
        </div>
    </div>
    
    <script>
        // Data
        const data = [{"x":[1.6783939150006126,2.0458876043766803,2.761925072610829,1.1826262979293294,1.7703328435555774,5.038451605354364,2.9193320560979723,7.371477182313217,1.5417166712967303,8.688019664696563,8.001651423157789,-6.808151212356033,0.13958074069034274,6.850514524273263,4.269347546929449,6.681347289602866,3.4629676994167697,2.017946812586479,5.876471851655268,7.5557269955286905,-6.788580692168887,-8.40548239849246,-7.274547299688591,-4.6060554685358825,5.275287842744254,2.342843739378618,-12.18565584703558,-3.3255371517648924,-12.809852256064499,-1.2093444491140166,-4.963271930357808,4.10052690344471,-4.5470779305460125,-4.285998389115829,-10.215894009494345,8.593034725802676,0.13381333998718553,8.512635940211966,8.747484092974144,0.7237316953822992,7.743408179449206,-10.014227918778985,-2.065336611506816,1.107503015917643,0.5600621118075196,-1.599135616132516,-7.859742165346117,-7.831013801729079,-3.735384660618246,-7.198714154236268],"y":[26.00538451539045,29.42810558263457,27.87176536635829,30.38555363406842,28.977107831142845,28.223059689023355,29.62242381448785,18.81081511258616,19.90829710135939,19.917320714087744,17.769416003474525,2.350893275495569,-7.565531515332956,-7.194058920117685,-9.316705360209685,-9.270350808924062,-7.8533916321774395,-12.01714904842905,-12.244865826998264,-6.023700154616619,-4.762662103892047,-5.266517020720415,-6.379319844544839,-9.297446273345749,-7.822749760047606,-7.776632517597806,-7.80217208949976,-8.028344324460708,-7.619910720193832,-9.286244498704674,-7.968396798304341,-14.874463613295681,-9.425889849113544,-10.994633010894963,-6.08505493128566,-9.812465251498312,-12.50000676079703,-8.703882912868961,-7.951133483333413,-11.878510296183228,-11.383830164003514,-2.0403972301757616,-18.94247578540353,-13.805542568043894,18.250214452139673,-18.387316094614057,-1.4673555493620027,0.03833674132858441,-10.132389650459325,-1.6721355170743983],"z":[-0.8015925271640632,1.5396411653263236,-0.9942461917942014,-1.5410223734247444,-3.0387386250876958,-1.7400323236011848,-0.7486692625996542,-5.317267787358742,-2.2639089926265816,-5.8305946320427,-5.756899942213783,-17.94891849482511,15.214214698333635,8.88986734727526,15.529349894822412,10.810912341613529,15.665215436546683,16.03069014722344,10.205937418870096,8.079390847056699,-11.103114297613834,-11.339970455913546,-11.801018901346069,-2.757180490424874,8.643967994646955,8.32997348392525,-1.4105311246013117,-5.640301209026197,-0.4270306903636514,8.927462077351167,-5.152654394653325,11.093040189767922,-5.868244461237379,1.2896239246204064,-9.389742506671608,-4.064206387407742,11.645538901993206,-2.894924558985744,-4.249405252917549,14.421308447775465,10.187477093165887,-17.4869967150395,-0.3564397294143271,17.009122790762916,-2.051807407265125,0.5617893258220077,-18.642862562165377,-17.70962590040271,-0.14416693952997076,-17.134915213739397],"mode":"markers","type":"scatter3d","name":"All Documents","marker":{"size":5,"color":"grey","opacity":0.5,"line":{"color":"ligthgray","width":1}},"text":["Document 1","Document 2","Document 3","Document 4","Document 5","Document 6","Document 7","Document 8","Document 9","Document 10","Document 11","Document 12","Document 13","Document 14","Document 15","Document 16","Document 17","Document 18","Document 19","Document 20","Document 21","Document 22","Document 23","Document 24","Document 25","Document 26","Document 27","Document 28","Document 29","Document 30","Document 31","Document 32","Document 33","Document 34","Document 35","Document 36","Document 37","Document 38","Document 39","Document 40","Document 41","Document 42","Document 43","Document 44","Document 45","Document 46","Document 47","Document 48","Document 49","Document 50"],"hoverInfo":"text"},{"x":[1.6783939150006126,2.0458876043766803,2.761925072610829],"y":[26.00538451539045,29.42810558263457,27.87176536635829],"z":[-0.8015925271640632,1.5396411653263236,-0.9942461917942014],"mode":"markers","type":"scatter3d","name":"Top 3 Documents","marker":{"size":8,"color":"blue","opacity":0.9,"line":{"color":"darkblue","width":2}},"text":["Top 1 Document","Top 2 Document","Top 3 Document"],"hoverinfo":"text"},{"x":[0.03495457890986091],"y":[25.99493805294735],"z":[1.5325068245584443],"mode":"markers","type":"scatter3d","name":"Query","marker":{"size":10,"color":"red","opacity":0.9,"symbol":"diamond","line":{"color":"darkred","width":2}},"text":["Query: Show me devices"],"hoverinfo":"text"}];
        
        // Layout
        const layout = {"title":{"text":"3D Embeddings Visualization (t-SNE, Perplexity=5)","font":{"size":18}},"scene":{"xaxis":{"title":"Dimension 1"},"yaxis":{"title":"Dimension 2"},"zaxis":{"title":"Dimension3"}},"showlegend":true,"legend":{"x":0,"y":1},"width":1200,"heigth":800};
        
        // Configuration
        const config = {
            responsive: true,
            displayModeBar: true,
            displaylogo: false,
            modeBarButtonsToRemove: ['toImage', 'sendDataToCloud'],
            toImageButtonOptions: {
                format: 'png',
                filename: 'embeddings_3d_visualization',
                height: 1080,
                width: 1920,
                scale: 2
            }
        };
        
        // Create plot
        Plotly.newPlot('plot', data, layout, config);
        
        // Log success
        console.log('‚úÖ 3D visualization loaded successfully!');
        console.log('Data points:', 51);
    </script>
</body>
</html>
  